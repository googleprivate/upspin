{
  "comments": [
    {
      "key": {
        "uuid": "5c17b7d8_78960161",
        "filename": "bind/bind.go",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 5020
      },
      "writtenOn": "2016-05-26T19:18:50Z",
      "side": 1,
      "message": "mu sync.Mutex\nservice upspin.Service // nil means dial/ping in progress",
      "revId": "e136c33f4f29ed6cd0ccf04b2d070f49e9fabf09",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c17b7d8_b8433957",
        "filename": "bind/bind.go",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 5020
      },
      "writtenOn": "2016-05-25T23:26:14Z",
      "side": 1,
      "message": "I\u0027d add a blank line above this one to make it clearer that mu guards all these fields",
      "revId": "e136c33f4f29ed6cd0ccf04b2d070f49e9fabf09",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7c371b6c_b46b3172",
        "filename": "bind/bind.go",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 5015
      },
      "writtenOn": "2016-05-26T17:39:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5c17b7d8_b8433957",
      "revId": "e136c33f4f29ed6cd0ccf04b2d070f49e9fabf09",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c17b7d8_18a345ba",
        "filename": "bind/bind.go",
        "patchSetId": 2
      },
      "lineNbr": 155,
      "author": {
        "id": 5020
      },
      "writtenOn": "2016-05-26T19:18:50Z",
      "side": 1,
      "message": "mu.Lock()\nds, found :\u003d cache[key]\nif !found {\n\tds \u003d \u0026dialedService{}\n\tcache[key] \u003d ds\n\treverseLookup[service] \u003d key\n}\nmu.Unlock()\n\nds.Lock()\ndefer ds.Unlock()\nif found \u0026\u0026 ds.service !\u003d nil {",
      "revId": "e136c33f4f29ed6cd0ccf04b2d070f49e9fabf09",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c17b7d8_5829bd89",
        "filename": "bind/bind.go",
        "patchSetId": 2
      },
      "lineNbr": 168,
      "author": {
        "id": 5020
      },
      "writtenOn": "2016-05-25T23:26:14Z",
      "side": 1,
      "message": "I\u0027m nervous about doing network stuff while holding mu.\nI think instead you should hold mu while accessing cache (line 158) and from line 181 onward.",
      "revId": "e136c33f4f29ed6cd0ccf04b2d070f49e9fabf09",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7c371b6c_5468a574",
        "filename": "bind/bind.go",
        "patchSetId": 2
      },
      "lineNbr": 168,
      "author": {
        "id": 5015
      },
      "writtenOn": "2016-05-26T17:39:16Z",
      "side": 1,
      "message": "Unfortunately, that would open a window to a race condition.\n\nI\u0027ll have to think about this one some more. I\u0027ll ping my race condition guru, Dave, on this one.",
      "parentUuid": "5c17b7d8_5829bd89",
      "revId": "e136c33f4f29ed6cd0ccf04b2d070f49e9fabf09",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c17b7d8_5899bd8f",
        "filename": "bind/bind.go",
        "patchSetId": 2
      },
      "lineNbr": 168,
      "author": {
        "id": 5020
      },
      "writtenOn": "2016-05-26T19:18:50Z",
      "side": 1,
      "message": "I\u0027ll make some suggestions as comments",
      "parentUuid": "7c371b6c_5468a574",
      "revId": "e136c33f4f29ed6cd0ccf04b2d070f49e9fabf09",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c17b7d8_38a089aa",
        "filename": "bind/bind.go",
        "patchSetId": 2
      },
      "lineNbr": 181,
      "author": {
        "id": 5020
      },
      "writtenOn": "2016-05-26T19:18:50Z",
      "side": 1,
      "message": "ds.service \u003d service\nds.lastPing \u003d time.Now()",
      "revId": "e136c33f4f29ed6cd0ccf04b2d070f49e9fabf09",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c17b7d8_d88b8d32",
        "filename": "bind/bind.go",
        "patchSetId": 2
      },
      "lineNbr": 185,
      "author": {
        "id": 5020
      },
      "writtenOn": "2016-05-26T19:18:50Z",
      "side": 1,
      "message": "delete",
      "revId": "e136c33f4f29ed6cd0ccf04b2d070f49e9fabf09",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c17b7d8_183345fc",
        "filename": "bind/bind_test.go",
        "patchSetId": 2
      },
      "lineNbr": 95,
      "author": {
        "id": 5020
      },
      "writtenOn": "2016-05-25T23:27:16Z",
      "side": 1,
      "message": "check these errors",
      "revId": "e136c33f4f29ed6cd0ccf04b2d070f49e9fabf09",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7c371b6c_b419f119",
        "filename": "bind/bind_test.go",
        "patchSetId": 2
      },
      "lineNbr": 95,
      "author": {
        "id": 5015
      },
      "writtenOn": "2016-05-26T17:39:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5c17b7d8_183345fc",
      "revId": "e136c33f4f29ed6cd0ccf04b2d070f49e9fabf09",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    }
  ]
}