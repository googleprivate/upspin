{
  "comments": [
    {
      "key": {
        "uuid": "c8e693fe_1f3c47e6",
        "filename": "dir/server/all_test.go",
        "patchSetId": 2
      },
      "lineNbr": 492,
      "author": {
        "id": 5020
      },
      "writtenOn": "2016-08-24T23:25:29Z",
      "side": 1,
      "message": "now? odd comment",
      "revId": "d4c5c3235f1ab4e00679c641dd5199ab3b7a790b",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "68dda79f_0f52c9e1",
        "filename": "dir/server/all_test.go",
        "patchSetId": 2
      },
      "lineNbr": 492,
      "author": {
        "id": 5015
      },
      "writtenOn": "2016-08-24T23:37:51Z",
      "side": 1,
      "message": "It\u0027s the comment I moved from below. It makes sense if you see what I was trying to do on line 475: delete a non-empty dir.",
      "parentUuid": "c8e693fe_1f3c47e6",
      "revId": "d4c5c3235f1ab4e00679c641dd5199ab3b7a790b",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c8e693fe_3f41036b",
        "filename": "dir/server/all_test.go",
        "patchSetId": 2
      },
      "lineNbr": 495,
      "author": {
        "id": 5020
      },
      "writtenOn": "2016-08-24T23:25:29Z",
      "side": 1,
      "message": "why wouldn\u0027t it work?",
      "revId": "d4c5c3235f1ab4e00679c641dd5199ab3b7a790b",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "68dda79f_8f6cf9a0",
        "filename": "dir/server/all_test.go",
        "patchSetId": 2
      },
      "lineNbr": 495,
      "author": {
        "id": 5015
      },
      "writtenOn": "2016-08-24T23:37:51Z",
      "side": 1,
      "message": "I\u0027m testing that deleting a link works. I think it\u0027s helpful to see that this is not just a \"delete all\" operation. I\u0027m actually testing a few different things.",
      "parentUuid": "c8e693fe_3f41036b",
      "revId": "d4c5c3235f1ab4e00679c641dd5199ab3b7a790b",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c51bde68_f461583d",
        "filename": "dir/server/server.go",
        "patchSetId": 2
      },
      "lineNbr": 256,
      "author": {
        "id": 5020
      },
      "writtenOn": "2016-08-25T04:39:46Z",
      "side": 1,
      "message": "Here is where the entry from put is returned directly by Put.\nAre you thinking about the same piece of code that I am?",
      "revId": "d4c5c3235f1ab4e00679c641dd5199ab3b7a790b",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c8e693fe_bf651319",
        "filename": "dir/server/server.go",
        "patchSetId": 2
      },
      "lineNbr": 357,
      "author": {
        "id": 5020
      },
      "writtenOn": "2016-08-24T23:16:03Z",
      "side": 1,
      "message": "s/entry/link/",
      "revId": "d4c5c3235f1ab4e00679c641dd5199ab3b7a790b",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "68dda79f_2ff34d04",
        "filename": "dir/server/server.go",
        "patchSetId": 2
      },
      "lineNbr": 357,
      "author": {
        "id": 5015
      },
      "writtenOn": "2016-08-24T23:37:51Z",
      "side": 1,
      "message": "It may not be a link.",
      "parentUuid": "c8e693fe_bf651319",
      "revId": "d4c5c3235f1ab4e00679c641dd5199ab3b7a790b",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c8e693fe_df72dfdb",
        "filename": "dir/server/server.go",
        "patchSetId": 2
      },
      "lineNbr": 364,
      "author": {
        "id": 5020
      },
      "writtenOn": "2016-08-24T23:16:03Z",
      "side": 1,
      "message": "this is wrong for Put (which calls s.put and returns these values directly). It should only return a DirEntry for ErrFollowLink.\nThis is distinct from MakeDirectory which returns the newly created DirEntry.",
      "revId": "d4c5c3235f1ab4e00679c641dd5199ab3b7a790b",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "68dda79f_4ffa01d6",
        "filename": "dir/server/server.go",
        "patchSetId": 2
      },
      "lineNbr": 364,
      "author": {
        "id": 5015
      },
      "writtenOn": "2016-08-24T23:37:51Z",
      "side": 1,
      "message": "No, it\u0027s correct. I changed the API and commented it appropriately. Tree.Put is not exactly the same as Dir.Put and the difference is documented.",
      "parentUuid": "c8e693fe_df72dfdb",
      "revId": "d4c5c3235f1ab4e00679c641dd5199ab3b7a790b",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c51bde68_34d470f0",
        "filename": "dir/server/server.go",
        "patchSetId": 2
      },
      "lineNbr": 364,
      "author": {
        "id": 5020
      },
      "writtenOn": "2016-08-25T03:08:31Z",
      "side": 1,
      "message": "But these values are returned directly by server.Put and server.MakeDirectory, which implement upspin.DirServer. This behavior is correct for MakeDirectory and incorrect for Put.\n\nWhat am I missing?",
      "parentUuid": "68dda79f_4ffa01d6",
      "revId": "d4c5c3235f1ab4e00679c641dd5199ab3b7a790b",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "88349bbf_ad03a9e2",
        "filename": "dir/server/server.go",
        "patchSetId": 2
      },
      "lineNbr": 364,
      "author": {
        "id": 5015
      },
      "writtenOn": "2016-08-25T04:28:05Z",
      "side": 1,
      "message": "It err\u003d\u003dnil, the entry value is not used in dir.Put.\n\nI guess I can nil that if you think it\u0027s safer.",
      "parentUuid": "c51bde68_34d470f0",
      "revId": "d4c5c3235f1ab4e00679c641dd5199ab3b7a790b",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c51bde68_d45e5c7d",
        "filename": "dir/server/server.go",
        "patchSetId": 2
      },
      "lineNbr": 364,
      "author": {
        "id": 5020
      },
      "writtenOn": "2016-08-25T04:39:46Z",
      "side": 1,
      "message": "It\u0027s not about safety, it\u0027s about satisfying the upspin.DirServer API:\n\n    // If the returned error is ErrFollowLink, the caller should\n    // retry the operation as outlined in the description for\n    // ErrFollowLink (with the added step of updating the\n    // Name field of the argument DirEntry). Otherwise, the\n    // returned DirEntry will be nil whether the operation\n    // succeeded or not.",
      "parentUuid": "88349bbf_ad03a9e2",
      "revId": "d4c5c3235f1ab4e00679c641dd5199ab3b7a790b",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c8e693fe_9f6857f2",
        "filename": "dir/server/tree/tree.go",
        "patchSetId": 2
      },
      "lineNbr": 168,
      "author": {
        "id": 5020
      },
      "writtenOn": "2016-08-24T23:16:03Z",
      "side": 1,
      "message": "I don\u0027t think you should return de if err !\u003d nil.\nalso why do you return the de if it\u0027s the same one the user provided?",
      "revId": "d4c5c3235f1ab4e00679c641dd5199ab3b7a790b",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "68dda79f_efdf7563",
        "filename": "dir/server/tree/tree.go",
        "patchSetId": 2
      },
      "lineNbr": 168,
      "author": {
        "id": 5015
      },
      "writtenOn": "2016-08-24T23:37:51Z",
      "side": 1,
      "message": "This makes coding against the Tree a little easier.",
      "parentUuid": "c8e693fe_9f6857f2",
      "revId": "d4c5c3235f1ab4e00679c641dd5199ab3b7a790b",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    }
  ]
}