{
  "comments": [
    {
      "key": {
        "uuid": "3dafc074_001c79ca",
        "filename": "serverutil/perm/perm.go",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 5309
      },
      "writtenOn": "2017-03-15T03:21:56Z",
      "side": 1,
      "message": "I think it would have been cleaner as\n\nfor {\n   events :\u003d watch(conech)\n   handleEvents(events)\n   close(donech)\n}\n\na little more obvious what is happening and less possible to miss the close in the next change.\n\nBut if you want to leave it this way, fine by me.",
      "range": {
        "startLine": 108,
        "startChar": 1,
        "endLine": 108,
        "endChar": 4
      },
      "revId": "21498a5b2afaebe9e4fcc8b185450f51fc8751f4",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9406b6fe_44eb31d8",
        "filename": "serverutil/perm/perm.go",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 5389
      },
      "writtenOn": "2017-03-15T03:32:56Z",
      "side": 1,
      "message": "I gave it a try, but I don\u0027t think that it\u0027ll work that way. What you have called handleEvents needs to close the done channel to signal that it\u0027s no longer interested in any more events, but after that it needs to continue to receive events. There\u0027s also the awkward wrinkle of accessOrder.\n\nOr am I misunderstanding your suggestion?",
      "parentUuid": "3dafc074_001c79ca",
      "range": {
        "startLine": 108,
        "startChar": 1,
        "endLine": 108,
        "endChar": 4
      },
      "revId": "21498a5b2afaebe9e4fcc8b185450f51fc8751f4",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ae848b4_9f364bce",
        "filename": "serverutil/perm/perm.go",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 5309
      },
      "writtenOn": "2017-03-15T03:52:03Z",
      "side": 1,
      "message": "Since you know the order of the highest non error event you received, you can always restart there when you decide to close the watch.  There\u0027s no reason to drain the messages that have come in.",
      "parentUuid": "9406b6fe_44eb31d8",
      "range": {
        "startLine": 108,
        "startChar": 1,
        "endLine": 108,
        "endChar": 4
      },
      "revId": "21498a5b2afaebe9e4fcc8b185450f51fc8751f4",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    }
  ]
}