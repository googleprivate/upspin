{
  "comments": [
    {
      "key": {
        "uuid": "f43ec9eb_a0819413",
        "filename": "directory/gcp/root.go",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 5020
      },
      "writtenOn": "2016-06-14T01:07:15Z",
      "side": 1,
      "message": "One practice I have seen used effectively is putting the suffix \"Locked\" at the end of methods that should be called with a lock held.\n\nSo this method would be getRootLocked, and so on. It\u0027s a nice reminder at the call site that a particular lock should be held.",
      "revId": "f9fe0f62ef02b38f11db3c4adb0919dd523f19bd",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f43ec9eb_2372ae98",
        "filename": "directory/gcp/root.go",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 5015
      },
      "writtenOn": "2016-06-14T01:58:34Z",
      "side": 1,
      "message": "I know. But I usually see that when there\u0027s a version without the lock as well. Like, getDir and getDirLocked. Since there are many methods here that require a lock, I thought it was kind of a bit detrimental to the readability...",
      "parentUuid": "f43ec9eb_a0819413",
      "revId": "f9fe0f62ef02b38f11db3c4adb0919dd523f19bd",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d47aa5a9_34fc9078",
        "filename": "directory/gcp/root.go",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 5020
      },
      "writtenOn": "2016-06-14T02:55:35Z",
      "side": 1,
      "message": "I\u0027d prefer to see the word Locked around a bit than to have more trouble tracking down racy code. I\u0027ve seen it used generally when the method expects some lock to be held. Considering the number of names in this package already, I think it makes sense to put this flag in the name.",
      "parentUuid": "f43ec9eb_2372ae98",
      "revId": "f9fe0f62ef02b38f11db3c4adb0919dd523f19bd",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": false
    }
  ]
}