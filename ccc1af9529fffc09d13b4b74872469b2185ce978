{
  "comments": [
    {
      "key": {
        "uuid": "59e33314_b11da552",
        "filename": "dir/inprocess/all_test.go",
        "patchSetId": 1
      },
      "lineNbr": 488,
      "author": {
        "id": 5309
      },
      "writtenOn": "2017-09-05T20:35:48Z",
      "side": 1,
      "message": "why !\u003d ? Shouldn\u0027t the returned entry differ from the passed one? It seems to me that storeData is creating an entry with seq \u003d\u003d upspin.SeqIgnore and returning that in the entry.",
      "range": {
        "startLine": 488,
        "startChar": 2,
        "endLine": 488,
        "endChar": 40
      },
      "revId": "ccc1af9529fffc09d13b4b74872469b2185ce978",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f37cde7_4f9dcf61",
        "filename": "dir/inprocess/all_test.go",
        "patchSetId": 1
      },
      "lineNbr": 488,
      "author": {
        "id": 5305
      },
      "writtenOn": "2017-09-06T01:20:48Z",
      "side": 1,
      "message": "At this point we haven\u0027t changed to the new model, where the dir server is in control of sequence numbers. This code is still in the old model, where the client says what to do and the dir server obeys.\n\nI could just delete these tests. They don\u0027t do much and they\u0027ll have to go one day anyway. Just let me know.",
      "parentUuid": "59e33314_b11da552",
      "range": {
        "startLine": 488,
        "startChar": 2,
        "endLine": 488,
        "endChar": 40
      },
      "revId": "ccc1af9529fffc09d13b4b74872469b2185ce978",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "feeb22b9_647d0660",
        "filename": "dir/inprocess/all_test.go",
        "patchSetId": 1
      },
      "lineNbr": 488,
      "author": {
        "id": 5309
      },
      "writtenOn": "2017-09-06T05:53:59Z",
      "side": 1,
      "message": "But in the old model inprocess.Put-\u003eput-\u003einstallEntry increments the Sequence.  I\u0027m confused why this works. It seems to me that retEntry.Sequence cannot equal entry.Sequence. What am I missing?",
      "parentUuid": "6f37cde7_4f9dcf61",
      "range": {
        "startLine": 488,
        "startChar": 2,
        "endLine": 488,
        "endChar": 40
      },
      "revId": "ccc1af9529fffc09d13b4b74872469b2185ce978",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c50f775b_370dccfc",
        "filename": "dir/inprocess/all_test.go",
        "patchSetId": 1
      },
      "lineNbr": 488,
      "author": {
        "id": 5305
      },
      "writtenOn": "2017-09-06T05:58:39Z",
      "side": 1,
      "message": "I think you\u0027re missing that there is a bug in the old code. I need to investigate.",
      "parentUuid": "feeb22b9_647d0660",
      "range": {
        "startLine": 488,
        "startChar": 2,
        "endLine": 488,
        "endChar": 40
      },
      "revId": "ccc1af9529fffc09d13b4b74872469b2185ce978",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d691b615_c446699a",
        "filename": "dir/inprocess/all_test.go",
        "patchSetId": 1
      },
      "lineNbr": 488,
      "author": {
        "id": 5305
      },
      "writtenOn": "2017-09-06T10:29:03Z",
      "side": 1,
      "message": "Should be good now. A couple of things were wrong in this old code.\n\n1) When putting a file for the first time, the Seq was not incremented.\n2) It\u0027s inprocess but not protecting the caller, so the incoming entry was being modified underfoot. This caused a few things to work by accident.\n\nLooks good now, and the +1s are there.",
      "parentUuid": "c50f775b_370dccfc",
      "range": {
        "startLine": 488,
        "startChar": 2,
        "endLine": 488,
        "endChar": 40
      },
      "revId": "ccc1af9529fffc09d13b4b74872469b2185ce978",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "200a5441_06beb07e",
        "filename": "dir/inprocess/all_test.go",
        "patchSetId": 1
      },
      "lineNbr": 509,
      "author": {
        "id": 5309
      },
      "writtenOn": "2017-09-05T20:35:48Z",
      "side": 1,
      "message": "Ditto here.",
      "range": {
        "startLine": 509,
        "startChar": 4,
        "endLine": 509,
        "endChar": 39
      },
      "revId": "ccc1af9529fffc09d13b4b74872469b2185ce978",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb0b5d86_c1604dd2",
        "filename": "dir/inprocess/all_test.go",
        "patchSetId": 1
      },
      "lineNbr": 516,
      "author": {
        "id": 5309
      },
      "writtenOn": "2017-09-05T20:35:48Z",
      "side": 1,
      "message": "And isn\u0027t this also now incorrect?",
      "range": {
        "startLine": 516,
        "startChar": 4,
        "endLine": 516,
        "endChar": 30
      },
      "revId": "ccc1af9529fffc09d13b4b74872469b2185ce978",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "05bfd035_f692081e",
        "filename": "dir/inprocess/all_test.go",
        "patchSetId": 1
      },
      "lineNbr": 516,
      "author": {
        "id": 5309
      },
      "writtenOn": "2017-09-05T20:48:14Z",
      "side": 1,
      "message": "I guess this is OK since you know noone else is accessing the directory and you are incrementing by one every put... My bad.",
      "parentUuid": "cb0b5d86_c1604dd2",
      "range": {
        "startLine": 516,
        "startChar": 4,
        "endLine": 516,
        "endChar": 30
      },
      "revId": "ccc1af9529fffc09d13b4b74872469b2185ce978",
      "serverId": "0759ed4b-3fdc-34dc-866b-f2e708168c03",
      "unresolved": true
    }
  ]
}